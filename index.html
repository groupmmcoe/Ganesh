<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Parent Dashboard</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #f0f9ff, #e0f2fe);
      color: #333;
      min-height: 100vh;
    }

    header {
      background: #10b981;
      color: white;
      padding: 15px 40px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .header-left h1 {
      font-size: 1.8rem;
      font-weight: bold;
    }

    .header-left p {
      font-size: 0.9rem;
      opacity: 0.9;
      margin-top: 3px;
    }

    .header-right {
      display: flex;
      align-items: center;
      gap: 20px;
    }

    .user-info {
      text-align: right;
    }

    .user-info h3 {
      font-size: 1.1rem;
    }

    .user-info p {
      font-size: 0.85rem;
      opacity: 0.9;
    }

    .logout-btn {
      background: #f59e0b;
      color: white;
      border: none;
      padding: 8px 16px;
      border-radius: 20px;
      font-weight: 500;
      cursor: pointer;
      transition: background 0.3s;
    }

    .logout-btn:hover {
      background: #d97706;
    }

    .dashboard-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 30px 20px;
    }

    .welcome-banner {
      background: linear-gradient(135deg, #10b981, #059669);
      color: white;
      padding: 25px;
      border-radius: 15px;
      margin-bottom: 30px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }

    .welcome-banner h2 {
      font-size: 1.8rem;
      margin-bottom: 10px;
    }

    .welcome-banner p {
      font-size: 1rem;
      opacity: 0.9;
    }

    .dashboard-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
      gap: 25px;
      margin-bottom: 40px;
    }

    .dashboard-card {
      background: white;
      border-radius: 15px;
      padding: 25px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.05);
      transition: transform 0.3s, box-shadow 0.3s;
    }

    .dashboard-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 16px rgba(0,0,0,0.1);
    }

    .card-header {
      display: flex;
      align-items: center;
      margin-bottom: 20px;
      color: #047857;
    }

    .card-header i {
      font-size: 1.8rem;
      margin-right: 15px;
    }

    .card-header h3 {
      font-size: 1.3rem;
    }

    .info-item {
      display: flex;
      justify-content: space-between;
      padding: 12px 0;
      border-bottom: 1px solid #f1f5f9;
    }

    .info-item:last-child {
      border-bottom: none;
    }

    .info-label {
      font-weight: 600;
      color: #4b5563;
    }

    .info-value {
      color: #1f2937;
    }

    .attendance-badge {
      display: inline-block;
      padding: 4px 12px;
      border-radius: 20px;
      font-size: 0.85rem;
      font-weight: 600;
    }

    .attendance-present {
      background: #d1fae5;
      color: #047857;
    }

    .attendance-absent {
      background: #fee2e2;
      color: #dc2626;
    }

    .grade-excellent {
      color: #047857;
      font-weight: 600;
    }

    .grade-good {
      color: #f59e0b;
      font-weight: 600;
    }

    .grade-average {
      color: #6b7280;
      font-weight: 600;
    }

    .subject-list {
      list-style: none;
    }

    .subject-list li {
      padding: 10px 0;
      border-bottom: 1px solid #f1f5f9;
      display: flex;
      justify-content: space-between;
    }

    .subject-list li:last-child {
      border-bottom: none;
    }

    .events-list {
      list-style: none;
    }

    .events-list li {
      padding: 12px 0;
      border-bottom: 1px solid #f1f5f9;
      display: flex;
      align-items: flex-start;
    }

    .events-list li:last-child {
      border-bottom: none;
    }

    .event-date {
      background: #e0f2fe;
      color: #0369a1;
      padding: 5px 10px;
      border-radius: 8px;
      font-size: 0.85rem;
      font-weight: 600;
      min-width: 80px;
      text-align: center;
      margin-right: 15px;
    }

    .event-details h4 {
      margin-bottom: 5px;
      color: #1f2937;
    }

    .event-details p {
      font-size: 0.9rem;
      color: #6b7280;
    }

    .quick-actions {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 20px;
      margin-bottom: 40px;
    }

    .action-btn {
      background: white;
      border: none;
      padding: 20px;
      border-radius: 12px;
      text-align: center;
      cursor: pointer;
      box-shadow: 0 4px 8px rgba(0,0,0,0.05);
      transition: all 0.3s;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    .action-btn i {
      font-size: 2rem;
      margin-bottom: 10px;
      color: #10b981;
    }

    .action-btn h4 {
      color: #047857;
      margin-bottom: 5px;
    }

    .action-btn p {
      font-size: 0.85rem;
      color: #6b7280;
    }

    .action-btn:hover {
      background: #f0fdf4;
      transform: translateY(-3px);
      box-shadow: 0 6px 12px rgba(0,0,0,0.1);
    }

    footer {
      padding: 20px;
      text-align: center;
      background: #10b981;
      color: white;
      font-size: 0.9rem;
      margin-top: 40px;
    }

    /* Responsive adjustments */
    @media (max-width: 768px) {
      header {
        padding: 15px 20px;
        flex-direction: column;
        text-align: center;
        gap: 15px;
      }
      
      .header-left, .header-right {
        width: 100%;
        justify-content: center;
      }
      
      .user-info {
        text-align: center;
      }
      
      .dashboard-grid {
        grid-template-columns: 1fr;
      }
      
      .quick-actions {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    @media (max-width: 480px) {
      .dashboard-container {
        padding: 20px 15px;
      }
      
      .welcome-banner {
        padding: 20px;
      }
      
      .welcome-banner h2 {
        font-size: 1.5rem;
      }
      
      .quick-actions {
        grid-template-columns: 1fr;
      }
      
      .dashboard-card {
        padding: 20px;
      }
    }
  </style>
</head>
<body>
  <header>
    <div class="header-left">
      <h1>Parent Dashboard</h1>
      <p>Soham Educational Institute</p>
    </div>
    <div class="header-right">
      <div class="user-info">
        <h3 id="parentName">Loading...</h3>
        <p id="studentInfo">Student: Loading...</p>
      </div>
      <button class="logout-btn" id="logoutButton">Logout</button>
    </div>
  </header>

  <div class="dashboard-container">
    <div class="welcome-banner">
      <h2 id="welcomeMessage">Welcome back!</h2>
      <p>Access your child's academic progress, attendance, fees, and more.</p>
    </div>

    <div class="quick-actions">
      <button class="action-btn" id="viewAttendanceBtn">
        <i>üìä</i>
        <h4>Attendance</h4>
        <p>View monthly attendance</p>
      </button>
      
      <button class="action-btn" id="viewGradesBtn">
        <i>üìù</i>
        <h4>Grades & Reports</h4>
        <p>Exam results and reports</p>
      </button>
      
      <button class="action-btn" id="viewTimetableBtn">
        <i>üìÖ</i>
        <h4>Class Timetable</h4>
        <p>Weekly schedule</p>
      </button>
      
      <button class="action-btn" id="feeStatusBtn">
        <i>üí∞</i>
        <h4>Fee Status</h4>
        <p>Check dues and payment</p>
      </button>
      
      <button class="action-btn" id="contactTeacherBtn">
        <i>‚úâÔ∏è</i>
        <h4>Contact Teacher</h4>
        <p>Send message to teacher</p>
      </button>
      
      <button class="action-btn" id="schoolEventsBtn">
        <i>üéâ</i>
        <h4>School Events</h4>
        <p>Upcoming activities</p>
      </button>
    </div>

    <div class="dashboard-grid">
      <!-- Student Information Card -->
      <div class="dashboard-card">
        <div class="card-header">
          <i>üë®‚Äçüéì</i>
          <h3>Student Information</h3>
        </div>
        <div class="info-list">
          <div class="info-item">
            <span class="info-label">Full Name:</span>
            <span class="info-value" id="displayStudentName">-</span>
          </div>
          <div class="info-item">
            <span class="info-label">Class & Section:</span>
            <span class="info-value" id="displayStudentClass">-</span>
          </div>
          <div class="info-item">
            <span class="info-label">Roll Number:</span>
            <span class="info-value" id="displayStudentRoll">-</span>
          </div>
          <div class="info-item">
            <span class="info-label">Academic Year:</span>
            <span class="info-value">2025-2026</span>
          </div>
          <div class="info-item">
            <span class="info-label">Class Teacher:</span>
            <span class="info-value">Mrs. Anjali Verma</span>
          </div>
        </div>
      </div>

      <!-- Attendance Summary Card -->
      <div class="dashboard-card">
        <div class="card-header">
          <i>üìÖ</i>
          <h3>Attendance Summary</h3>
        </div>
        <div class="info-list">
          <div class="info-item">
            <span class="info-label">This Month:</span>
            <span class="info-value">
              <span class="attendance-badge attendance-present" id="monthAttendance">92%</span>
            </span>
          </div>
          <div class="info-item">
            <span class="info-label">Days Present:</span>
            <span class="info-value" id="daysPresent">18/20</span>
          </div>
          <div class="info-item">
            <span class="info-label">Days Absent:</span>
            <span class="info-value" id="daysAbsent">2</span>
          </div>
          <div class="info-item">
            <span class="info-label">Last Absent:</span>
            <span class="info-value" id="lastAbsent">15 Jan 2026</span>
          </div>
          <div class="info-item">
            <span class="info-label">Overall Attendance:</span>
            <span class="info-value">
              <span class="attendance-badge attendance-present" id="overallAttendance">94%</span>
            </span>
          </div>
        </div>
      </div>

      <!-- Recent Grades Card -->
      <div class="dashboard-card">
        <div class="card-header">
          <i>üìä</i>
          <h3>Recent Grades</h3>
        </div>
        <div class="info-list">
          <div class="info-item">
            <span class="info-label">Mathematics:</span>
            <span class="info-value grade-excellent" id="mathGrade">A+ (95%)</span>
          </div>
          <div class="info-item">
            <span class="info-label">Science:</span>
            <span class="info-value grade-good" id="scienceGrade">B+ (82%)</span>
          </div>
          <div class="info-item">
            <span class="info-label">English:</span>
            <span class="info-value grade-excellent" id="englishGrade">A (90%)</span>
          </div>
          <div class="info-item">
            <span class="info-label">Social Studies:</span>
            <span class="info-value grade-average" id="socialGrade">B (78%)</span>
          </div>
          <div class="info-item">
            <span class="info-label">Overall Performance:</span>
            <span class="info-value grade-excellent" id="overallGrade">A (86%)</span>
          </div>
        </div>
      </div>

      <!-- Upcoming Events Card -->
      <div class="dashboard-card">
        <div class="card-header">
          <i>üéØ</i>
          <h3>Upcoming Events</h3>
        </div>
        <ul class="events-list">
          <li>
            <div class="event-date">25 Jan</div>
            <div class="event-details">
              <h4>Republic Day Celebration</h4>
              <p>School assembly at 9:00 AM</p>
            </div>
          </li>
          <li>
            <div class="event-date">30 Jan</div>
            <div class="event-details">
              <h4>Parent-Teacher Meeting</h4>
              <p>10:00 AM - 2:00 PM</p>
            </div>
          </li>
          <li>
            <div class="event-date">5 Feb</div>
            <div class="event-details">
              <h4>Science Exhibition</h4>
              <p>Students' project display</p>
            </div>
          </li>
          <li>
            <div class="event-date">14 Feb</div>
            <div class="event-details">
              <h4>Mid-term Exams Begin</h4>
              <p>Check timetable for schedule</p>
            </div>
          </li>
        </ul>
      </div>

      <!-- Fee Status Card -->
      <div class="dashboard-card">
        <div class="card-header">
          <i>üí∞</i>
          <h3>Fee Status</h3>
        </div>
        <div class="info-list">
          <div class="info-item">
            <span class="info-label">Current Quarter:</span>
            <span class="info-value">Jan-Mar 2026</span>
          </div>
          <div class="info-item">
            <span class="info-label">Total Fee:</span>
            <span class="info-value">‚Çπ25,000</span>
          </div>
          <div class="info-item">
            <span class="info-label">Amount Paid:</span>
            <span class="info-value">‚Çπ25,000</span>
          </div>
          <div class="info-item">
            <span class="info-label">Due Date:</span>
            <span class="info-value">10 Jan 2026</span>
          </div>
          <div class="info-item">
            <span class="info-label">Status:</span>
            <span class="info-value">
              <span class="attendance-badge attendance-present">Paid</span>
            </span>
          </div>
        </div>
      </div>

      <!-- Quick Messages Card -->
      <div class="dashboard-card">
        <div class="card-header">
          <i>üí¨</i>
          <h3>Recent Messages</h3>
        </div>
        <ul class="events-list">
          <li>
            <div class="event-date">Today</div>
            <div class="event-details">
              <h4>From: Class Teacher</h4>
              <p>Science project submission extended to 28 Jan</p>
            </div>
          </li>
          <li>
            <div class="event-date">Yesterday</div>
            <div class="event-details">
              <h4>From: School Admin</h4>
              <p>Fee receipt uploaded to portal</p>
            </div>
          </li>
          <li>
            <div class="event-date">18 Jan</div>
            <div class="event-details">
              <h4>From: Principal</h4>
              <p>Republic Day celebration details</p>
            </div>
          </li>
        </ul>
      </div>
    </div>
  </div>

  <footer>
    <p>&copy; 2026 Soham Educational Institute. All rights reserved.</p>
    <p style="margin-top: 10px; font-size: 0.9rem;">Parent Portal v2.1 | Last updated: 13 Jan 2026</p>
  </footer>

  <script>
    // Check if user is logged in
    document.addEventListener('DOMContentLoaded', function() {
      const isLoggedIn = localStorage.getItem("isLoggedIn");
      const userRole = localStorage.getItem("userRole");
      
      if (!isLoggedIn || userRole !== "parent") {
        alert("Please login first");
        window.location.href = "parent-login.html";
        return;
      }

      // Load parent and student data
      const parentData = JSON.parse(localStorage.getItem("currentParent"));
      
      if (parentData) {
        // Update welcome message and user info
        document.getElementById("parentName").textContent = parentData.name;
        document.getElementById("studentInfo").textContent = `Student: ${parentData.studentName}`;
        document.getElementById("welcomeMessage").textContent = `Welcome back, ${parentData.name}!`;
        
        // Update student information
        document.getElementById("displayStudentName").textContent = parentData.studentName;
        document.getElementById("displayStudentClass").textContent = parentData.studentClass;
        document.getElementById("displayStudentRoll").textContent = parentData.studentRoll;
        
        // Generate dynamic data based on student name
        generateDynamicData(parentData.studentName);
      } else {
        // Fallback to generic data
        document.getElementById("parentName").textContent = "Parent User";
        document.getElementById("studentInfo").textContent = "Student: Not Available";
      }

      // Setup logout button
      document.getElementById("logoutButton").addEventListener("click", function() {
        localStorage.removeItem("isLoggedIn");
        localStorage.removeItem("username");
        localStorage.removeItem("userRole");
        localStorage.removeItem("currentParent");
        
        window.location.href = "parent-login.html";
      });

      // Setup quick action buttons
      document.getElementById("viewAttendanceBtn").addEventListener("click", function() {
        alert("Opening Attendance Details...");
        // In a real app, this would navigate to attendance page
      });

      document.getElementById("viewGradesBtn").addEventListener("click", function() {
        alert("Opening Grades & Reports...");
        // In a real app, this would navigate to grades page
      });

      document.getElementById("viewTimetableBtn").addEventListener("click", function() {
        alert("Opening Class Timetable...");
        // In a real app, this would navigate to timetable page
      });

      document.getElementById("feeStatusBtn").addEventListener("click", function() {
        alert("Opening Fee Status...");
        // In a real app, this would navigate to fee status page
      });

      document.getElementById("contactTeacherBtn").addEventListener("click", function() {
        const message = prompt("Enter your message for the class teacher:");
        if (message) {
          alert("Message sent to teacher successfully!");
        }
      });

      document.getElementById("schoolEventsBtn").addEventListener("click", function() {
        alert("Opening School Events Calendar...");
        // In a real app, this would navigate to events page
      });
    });

    // Generate dynamic data based on student
    function generateDynamicData(studentName) {
      // Seed random but consistent data based on student name
      const seed = studentName.length;
      
      // Attendance data
      const attendancePercent = 85 + (seed % 15); // 85-99%
      const totalDays = 20;
      const presentDays = Math.floor(totalDays * attendancePercent / 100);
      const absentDays = totalDays - presentDays;
      
      document.getElementById("monthAttendance").textContent = `${attendancePercent}%`;
      document.getElementById("daysPresent").textContent = `${presentDays}/${totalDays}`;
      document.getElementById("daysAbsent").textContent = absentDays;
      
      // Set last absent date based on seed
      const lastAbsentDates = ["15 Jan 2026", "8 Jan 2026", "22 Dec 2025", "No absences"];
      document.getElementById("lastAbsent").textContent = lastAbsentDates[seed % lastAbsentDates.length];
      
      // Overall attendance (slightly higher than monthly)
      const overallPercent = attendancePercent + 2;
      document.getElementById("overallAttendance").textContent = `${overallPercent > 100 ? 100 : overallPercent}%`;
      
      // Grades data
      const grades = [
        {subject: "math", grade: "A+", percent: 92 + (seed % 5)},
        {subject: "science", grade: "B+", percent: 80 + (seed % 10)},
        {subject: "english", grade: "A", percent: 88 + (seed % 7)},
        {subject: "social", grade: "B", percent: 75 + (seed % 10)}
      ];
      
      grades.forEach(item => {
        document.getElementById(`${item.subject}Grade`).te
